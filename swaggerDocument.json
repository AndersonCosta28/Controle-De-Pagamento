{"openapi":"3.0.0","info":{"title":"gerenciamento-de-pagamento","description":"API para cadastrar funcionarios, setores, cargos e contrato para calcular salários e manejar o cargo de funcionário com mais facilidade","version":"1.0.0","contact":{"name":"Anderson Costa","url":"https://github.com/Mert1s","email":"andgtsc@gmail.com"}},"servers":[{"url":"http://localhost:3000","description":"API de desenvolvimento"},{"url":"http://localhost:3000","description":"API de produção"}],"paths":{"/setor":{"post":{"summary":"Cadastro de setor","description":"Rota responsável para cadastrar um novo setor","tags":["setor"],"requestBody":{"description":"Informar dados de cadastro do setor","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/setor"},"example":{"nome":"desenvolvimento"}}}},"responses":{"201":{"description":"Um funcionario setor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/setor"}}}},"400":{"description":"Erro ao gravar setor, verifique os dados e envie novamente"}}},"get":{"description":"Busca todos setors","summary":"Busca todos setors","tags":["setor"],"responses":{"200":{"description":"Varios setor retornados","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/setor"}}}}},"400":{"description":"Erro ao consultar setor, tente novamente"}}}},"/setor/{id}":{"get":{"description":"Busca de setor pelo ID","summary":"Busca de setor pelo ID","tags":["setor"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do setor para consulta"}],"responses":{"200":{"description":"Um setor retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/setor"}}}},"400":{"description":"Erro buscar setor, verifique os dados e envie novamente"}}},"put":{"summary":"Rota responsável para atualizar setor","description":"Rota responsável para atualizar setor","tags":["setor"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do setor para consulta"}],"requestBody":{"description":"Informar dados de cadastro do setor","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/setor"},"example":{"nome":"desenvolvimento"}}}},"responses":{"201":{"description":"Um setor retornado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/setor"}}}},"400":{"description":"Erro ao gravar setor, verifique os dados e envie novamente"}}},"delete":{"summary":"Deleta um setor","description":"Rota responsável para deletar um setor","tags":["setor"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do setor para consulta"}],"responses":{"204":{"description":"setor removido"},"400":{"description":"Ocorreu um erro ao deletar o setor"}}}},"/funcionario":{"post":{"summary":"Cadastro de funcionario","description":"Rota responsável para cadastrar um novo funcionario","tags":["funcionario"],"requestBody":{"description":"Informar dados de cadastro do funcionario","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/funcionario"},"example":{"nome":"BRAD","sobrenome":"BODNICK","data_admissao":"2020-03-17T00:00:00.000Z","dependentes":0,"optou_vale_transporte":false,"optou_plano_saude":false,"optou_plano_odontologico":false,"optou_vale_alimentacao":false,"contrato":{"id":1},"cargo":{"id":1}}}}},"responses":{"201":{"description":"Um funcionario funcionario","content":{"application/json":{"schema":{"$ref":"#/components/schemas/funcionario"}}}},"400":{"description":"Erro ao gravar funcionario, verifique os dados e envie novamente"}}},"get":{"description":"Busca todos funcionarios","summary":"Busca todos funcionarios","tags":["funcionario"],"responses":{"200":{"description":"Varios funcionario retornados","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/funcionario"}}}}},"400":{"description":"Erro ao consultar funcionario, tente novamente"}}}},"/funcionario/{id}":{"get":{"description":"Busca de funcionario pelo ID","summary":"Busca de funcionario pelo ID","tags":["funcionario"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do funcionario para consulta"}],"responses":{"200":{"description":"Um funcionario retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/funcionario"}}}},"400":{"description":"Erro buscar funcionario, verifique os dados e envie novamente"}}},"put":{"summary":"Rota responsável para atualizar funcionario","description":"Rota responsável para atualizar funcionario","tags":["funcionario"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do funcionario para consulta"}],"requestBody":{"description":"Informar dados de cadastro do funcionario","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/funcionario"},"example":{"nome":"BRAD","sobrenome":"BODNICK","data_admissao":"2020-03-17T00:00:00.000Z","dependentes":0,"optou_vale_transporte":false,"optou_plano_saude":false,"optou_plano_odontologico":false,"optou_vale_alimentacao":false,"contrato":{"id":1},"cargo":{"id":1}}}}},"responses":{"201":{"description":"Um funcionario retornado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/funcionario"}}}},"400":{"description":"Erro ao gravar funcionario, verifique os dados e envie novamente"}}},"delete":{"summary":"Deleta um funcionario","description":"Rota responsável para deletar um funcionario","tags":["funcionario"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do funcionario para consulta"}],"responses":{"204":{"description":"funcionario removido"},"400":{"description":"Ocorreu um erro ao deletar o funcionario"}}}},"/contrato":{"post":{"summary":"Cadastro de contrato","description":"Rota responsável para cadastrar um novo contrato","tags":["contrato"],"requestBody":{"description":"Informar dados de cadastro do contrato","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/contrato"},"example":{"nome":"CLT","comissionado":false,"salario_base":2000,"percentual_comissao_a_vista":0,"percentual_comissao_a_prazo":0,"vale_alimentacao":0,"percentual_vale_alimentacao":6,"vale_transporte":0,"percentual_vale_transporte":3,"plano_odontologico":0,"percentual_plano_odontologico":3,"plano_saude":0,"percentual_plano_saude":3}}}},"responses":{"201":{"description":"Um funcionario contrato","content":{"application/json":{"schema":{"$ref":"#/components/schemas/contrato"}}}},"400":{"description":"Erro ao gravar contrato, verifique os dados e envie novamente"}}},"get":{"description":"Busca todos contratos","summary":"Busca todos contratos","tags":["contrato"],"responses":{"200":{"description":"Varios contrato retornados","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/contrato"}}}}},"400":{"description":"Erro ao consultar contrato, tente novamente"}}}},"/contrato/{id}":{"get":{"description":"Busca de contrato pelo ID","summary":"Busca de contrato pelo ID","tags":["contrato"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do contrato para consulta"}],"responses":{"200":{"description":"Um contrato retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/contrato"}}}},"400":{"description":"Erro buscar contrato, verifique os dados e envie novamente"}}},"put":{"summary":"Rota responsável para atualizar contrato","description":"Rota responsável para atualizar contrato","tags":["contrato"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do contrato para consulta"}],"requestBody":{"description":"Informar dados de cadastro do contrato","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/contrato"},"example":{"nome":"CLT","comissionado":false,"salario_base":2000,"percentual_comissao_a_vista":0,"percentual_comissao_a_prazo":0,"vale_alimentacao":0,"percentual_vale_alimentacao":6,"vale_transporte":0,"percentual_vale_transporte":3,"plano_odontologico":0,"percentual_plano_odontologico":3,"plano_saude":0,"percentual_plano_saude":3}}}},"responses":{"201":{"description":"Um contrato retornado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/contrato"}}}},"400":{"description":"Erro ao gravar contrato, verifique os dados e envie novamente"}}},"delete":{"summary":"Deleta um contrato","description":"Rota responsável para deletar um contrato","tags":["contrato"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do contrato para consulta"}],"responses":{"204":{"description":"contrato removido"},"400":{"description":"Ocorreu um erro ao deletar o contrato"}}}},"/cargo":{"post":{"summary":"Cadastro de cargo","description":"Rota responsável para cadastrar um novo cargo","tags":["cargo"],"requestBody":{"description":"Informar dados de cadastro do cargo","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/cargo"},"example":{"nome":"DESENVOLVEDOR PLENO 3","percentual_reajuste":100,"setor":{"id":1}}}}},"responses":{"201":{"description":"Um funcionario cargo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/cargo"}}}},"400":{"description":"Erro ao gravar cargo, verifique os dados e envie novamente"}}},"get":{"description":"Busca todos cargos","summary":"Busca todos cargos","tags":["cargo"],"responses":{"200":{"description":"Varios cargo retornados","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/cargo"}}}}},"400":{"description":"Erro ao consultar cargo, tente novamente"}}}},"/cargo/{id}":{"get":{"description":"Busca de cargo pelo ID","summary":"Busca de cargo pelo ID","tags":["cargo"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do cargo para consulta"}],"responses":{"200":{"description":"Um cargo retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/cargo"}}}},"400":{"description":"Erro buscar cargo, verifique os dados e envie novamente"}}},"put":{"summary":"Rota responsável para atualizar cargo","description":"Rota responsável para atualizar cargo","tags":["cargo"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do cargo para consulta"}],"requestBody":{"description":"Informar dados de cadastro do cargo","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/cargo"},"example":{"nome":"DESENVOLVEDOR PLENO 3","percentual_reajuste":100,"setor":{"id":1}}}}},"responses":{"201":{"description":"Um cargo retornado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/cargo"}}}},"400":{"description":"Erro ao gravar cargo, verifique os dados e envie novamente"}}},"delete":{"summary":"Deleta um cargo","description":"Rota responsável para deletar um cargo","tags":["cargo"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do cargo para consulta"}],"responses":{"204":{"description":"cargo removido"},"400":{"description":"Ocorreu um erro ao deletar o cargo"}}}},"/funcionario/calcularsalarioproporcional/{id}":{"post":{"description":"Rota para calcular salário proporcional","summary":"Rota para calcular salário proporcional","tags":["funcionario"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do funcionario para calcular o salário"}],"requestBody":{"description":"Informar dados para cálculo","required":true,"content":{"application/json":{"schema":{"properties":{"diastrabalhados":{"type":"number"},"vendas_a_vista":{"type":"number"},"vendas_a_prazo":{"type":"number"},"outras_deducoes":{"type":"number"}}},"example":{"diastrabalhados":26,"vendas_a_vista":5000,"vendas_a_prazo":5000,"outras_deducoes":100}}}},"responses":{"200":{"description":"Um funcionario retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/funcionario"}}}},"400":{"description":"Erro buscar funcionario, verifique os dados e envie novamente"}}}},"/funcionario/calcularsalarioliquido/{id}":{"post":{"description":"Rota para calcular salário liquido","summary":"Rota para calcular salário liquido","tags":["funcionario"],"parameters":[{"name":"id","in":"path","required":true,"description":"ID do funcionario para calcular o salário"}],"requestBody":{"description":"Informar dados para cálculo","required":true,"content":{"application/json":{"schema":{"properties":{"vendas_a_vista":{"type":"number"},"vendas_a_prazo":{"type":"number"},"outras_deducoes":{"type":"number"}}},"example":{"vendas_a_vista":5000,"vendas_a_prazo":5000,"outras_deducoes":100}}}},"responses":{"200":{"description":"Um funcionario retornado","content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/funcionario"}}}},"400":{"description":"Erro buscar funcionario, verifique os dados e envie novamente"}}}}},"components":{"schemas":{"setor":{"type":"object","properties":{"nome":{"type":"string"}},"required":["nome"]},"funcionario":{"type":"object","properties":{"nome":{"type":"string"},"sobrenome":{"type":"string"},"data_admissao":{"type":"string","format":"date"},"dependentes":{"type":"number"},"optou_vale_transporte":{"type":"boolean"},"optou_plano_saude":{"type":"boolean"},"optou_plano_odontologico":{"type":"boolean"},"optou_vale_alimentacao":{"type":"boolean"},"contratoId":{"$ref":"#/components/schemas/contrato"},"cargoId":{"$ref":"#/components/schemas/cargo"}},"required":["nome","sobrenome","data_admissao","contrato","cargo"]},"contrato":{"type":"object","properties":{"nome":{"type":"string"},"comissionado":{"type":"boolean"},"salario_base":{"type":"number"},"percentual_comissao_a_vista":{"type":"number"},"percentual_comissao_a_prazo":{"type":"number"},"vale_alimentacao":{"type":"number"},"percentual_vale_alimentacao":{"type":"number"},"vale_transporte":{"type":"number"},"percentual_vale_transporte":{"type":"number"},"plano_odontologico":{"type":"number"},"percentual_plano_odontologico":{"type":"number"},"plano_saude":{"type":"number"},"percentual_plano_saude":{"type":"number"}},"required":["nome","comissionado","salario_base"]},"cargo":{"type":"object","properties":{"nome":{"type":"string"},"percentual_reajuste":{"type":"number"},"setor":{"$ref":"#/components/schemas/setor"}},"required":["nome","percentual_reajuste","setor"]},"calcularsalarioproporcional":{"type":"object","properties":{"diastrabalhados":{"type":"number"},"vendas_a_vista":{"type":"number"},"vendas_a_prazo":{"type":"number"},"outras_deducoes":{"type":"number"}},"required":["diastrabalhados"]},"calcularsalarioliquido":{"type":"object","properties":{"diastrabalhados":{"type":"number"},"vendas_a_vista":{"type":"number"},"vendas_a_prazo":{"type":"number"},"outras_deducoes":{"type":"number"}},"required":[]}}}}